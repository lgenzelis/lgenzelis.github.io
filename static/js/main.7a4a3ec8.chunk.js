(window.webpackJsonppublic_api_tests=window.webpackJsonppublic_api_tests||[]).push([[0],{11:function(t,e,n){},12:function(t,e,n){},25:function(t,e,n){t.exports=n(60)},30:function(t,e,n){},31:function(t,e,n){},42:function(t,e,n){},60:function(t,e,n){"use strict";n.r(e);var a=n(2),c=n(3),s=n(5),i=n(4),o=n(8),r=n(6),l=n(0),u=n.n(l),h=n(23),d=n.n(h),f=(n(11),n(30),n(31),n(12),n(9)),p=n.n(f),m=(n(42),n(24)),k=n.n(m),v=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(s.a)(this,Object(i.a)(e).call(this,t))).state={error:null,isLoaded:!1,fact:null,loadingNPoints:3},n}return Object(r.a)(e,t),Object(c.a)(e,[{key:"errorWhileGettingFact",value:function(t){this.setState({error:t,isLoaded:!0}),p.a.alert(t,"An error has occurred :(")}},{key:"getChuckFact",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=void 0;this.props.showNsfwFacts||(n={params:{category:"animal,career,celebrity,dev,fashion,food,history,money,movie,music,political,religion,science,sport,travel"}}),k.a.get("https://api.chucknorris.io/jokes/random",n).then((function(n){console.log(n.data.categories),t.props.checkAndUpdateKnownIds(n.data.id)?t.setState({fact:n.data.value,isLoaded:!0}):(console.log("Got an already known fact. Attempted ".concat(e," times.")),e>=10?t.errorWhileGettingFact("Max number of attempts reached. It seems that you already know all the facts!"):t.getChuckFact(e+1))})).catch((function(e){console.log(e),t.errorWhileGettingFact(e.toString())}))}},{key:"componentDidMount",value:function(){var t=this;this.interval=setInterval((function(){return t.tick()}),200),this.getChuckFact(),window.scroll({top:document.body.scrollHeight,behavior:"smooth"})}},{key:"componentDidUpdate",value:function(){window.scroll({top:document.body.scrollHeight,behavior:"smooth"})}},{key:"tick",value:function(){this.setState({loadingNPoints:(this.state.loadingNPoints+1)%4})}},{key:"render",value:function(){var t;return this.state.isLoaded?(clearInterval(this.interval),this.interval=null,t=this.state.error?null:this.state.fact):t="Loading "+".".repeat(this.state.loadingNPoints),t?u.a.createElement("li",null,t):null}},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}}]),e}(u.a.Component),g=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(s.a)(this,Object(i.a)(e).call(this,t))).knownFactsIds=new Set,n.state={factsList:[]},n}return Object(r.a)(e,t),Object(c.a)(e,[{key:"checkAndUpdateKnownIds",value:function(t){var e=!this.knownFactsIds.has(t);return e&&this.knownFactsIds.add(t),e}},{key:"addChuckFact",value:function(){var t=this;this.setState({factsList:this.state.factsList.concat(u.a.createElement(v,{key:this.state.factsList.length,showNsfwFacts:this.props.showNsfwFacts,checkAndUpdateKnownIds:function(e){return t.checkAndUpdateKnownIds(e)}}))})}},{key:"render",value:function(){var t=this,e=this.state.factsList.length>0?"Add another Chuck Norris fact":"Add a Chuck Norris fact";return u.a.createElement("div",null,u.a.createElement("button",{id:"add_fact_button",onClick:function(){return t.addChuckFact()}},e),u.a.createElement("button",{id:"add_fact_button_hidden"}," ",e," "),"   ",u.a.createElement("div",null,u.a.createElement("ul",null,this.state.factsList)))}}]),e}(u.a.Component),b=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(s.a)(this,Object(i.a)(e).call(this,t))).state={includeNsfw:!1},n.onCheckboxChange=n.onCheckboxChange.bind(Object(o.a)(n)),n}return Object(r.a)(e,t),Object(c.a)(e,[{key:"onCheckboxChange",value:function(){this.setState((function(t){return{includeNsfw:!t.includeNsfw}}))}},{key:"render",value:function(){var t=this;return u.a.createElement("div",{className:"enter-page"},u.a.createElement("img",{id:"dancing_chuck",src:"dancing_chuck.gif",alt:"Dancing Chuck",height:"80"}),u.a.createElement("div",{className:"enter-main-region"},u.a.createElement("button",{onClick:function(){return t.props.enterChuckApp(t.state.includeNsfw)}},"Take me to ChuckFacts!"),u.a.createElement("label",{htmlFor:"include_nsfw",className:"toggle"},u.a.createElement("input",{type:"checkbox",className:"toggle__input",id:"include_nsfw",onChange:this.onCheckboxChange}),u.a.createElement("span",{className:"toggle__label"},u.a.createElement("span",{className:"toggle__text"},"Show NSFW facts")))))}}]),e}(u.a.Component),w=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(s.a)(this,Object(i.a)(e).call(this,t))).state={currentScreen:"EnterApp",showNsfwFacts:!1},n}return Object(r.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this,e="EnterApp"===this.state.currentScreen?u.a.createElement(b,{enterChuckApp:function(e){return t.setState({currentScreen:"ChuckApp",showNsfwFacts:e})}}):u.a.createElement(g,{showNsfwFacts:this.state.showNsfwFacts});return u.a.createElement("div",null,u.a.createElement(p.a,null),e)}}]),e}(u.a.Component);d.a.render(u.a.createElement(w,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.7a4a3ec8.chunk.js.map